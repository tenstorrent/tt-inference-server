{
    "_version": "0.1.0",
    "_description": "Server tests configuration with marker-based filtering and prerequisite tests",
    "model_categories": {
        "IMAGE": [
            "stable-diffusion-xl-base-1.0",
            "stable-diffusion-xl-base-1.0-img-2-img",
            "stable-diffusion-xl-1.0-inpainting-0.1",
            "stable-diffusion-3.5-large"
        ],
        "AUDIO": [
            "distil-large-v3",
            "whisper-large-v3"
        ],
        "CNN": [
            "resnet-50",
            "vovnet",
            "mobilenetv2",
            "Qwen3-Embedding-4B"
        ]
    },
    "available_markers": {
        "test_types": {
            "load": "Load testing with concurrent requests",
            "param": "Parameter validation tests",
            "functional": "Functional correctness tests",
            "smoke": "Quick sanity checks for basic functionality",
            "e2e": "Full system tests covering complete workflows",
            "stability": "Long-running stability tests",
            "eval": "Model evaluation tests",
            "unit": "Fast, isolated tests with no external dependencies",
            "integration": "Medium-speed tests with local dependencies"
        },
        "performance_characteristics": {
            "slow": "Tests taking >30 seconds to complete",
            "heavy": "Resource-intensive tests (large models, high memory)",
            "fast": "Tests completing in <10 seconds"
        },
        "hardware_targets": {
            "n150": "Tests for N150 device (1 chip)",
            "n300": "Tests for N300 device (2 chips)",
            "t3k": "Tests for T3K device (4 chips)",
            "galaxy": "Tests for Galaxy device (32 chips)"
        },
        "model_categories": {
            "image": "Image generation/processing model tests",
            "audio": "Audio transcription model tests",
            "cnn": "CNN model tests",
            "llm": "Large Language Model tests"
        },
        "specific_models": {
            "sdxl": "Stable Diffusion XL tests",
            "sdxl_img2img": "Stable Diffusion XL img2img tests",
            "sdxl_inpaint": "Stable Diffusion XL inpainting tests",
            "sd35": "Stable Diffusion 3.5 tests",
            "whisper": "Whisper model tests",
            "distil_whisper": "Distil Whisper model tests"
        }
    },
    "hardware_defaults": {
        "n150": {
            "num_of_devices": 1,
            "liveness_retry_attempts": 80
        },
        "n300": {
            "num_of_devices": 2,
            "liveness_retry_attempts": 100
        },
        "t3k": {
            "num_of_devices": 4,
            "liveness_retry_attempts": 120
        },
        "galaxy": {
            "num_of_devices": 32,
            "liveness_retry_attempts": 220
        }
    },
    "prerequisite_tests": [
        {
            "name": "DeviceLivenessTest",
            "module": "tests.server_tests.test_cases.device_liveness_test",
            "description": "Test for device liveness checks - runs before all other tests",
            "markers": [
                "smoke",
                "functional",
                "fast",
                "prerequisite"
            ],
            "test_config": {
                "test_timeout": 3600,
                "retry_delay": 10,
                "break_on_failure": true,
                "mock_mode": false
            },
            "_comment": "retry_attempts and num_of_devices derived from hardware_defaults"
        }
    ],
    "test_templates": {
        "ImageGenerationLoadTest": {
            "module": "tests.server_tests.test_cases.image_generation_load_test",
            "markers": [
                "load",
                "e2e",
                "slow",
                "heavy"
            ],
            "test_config": {
                "test_timeout": 3600,
                "retry_attempts": 1,
                "retry_delay": 60,
                "break_on_failure": false,
                "mock_mode": false
            }
        },
        "ImageGenerationParamTest": {
            "module": "tests.server_tests.test_cases.image_generation_param_test",
            "markers": [
                "param",
                "e2e",
                "slow"
            ],
            "test_config": {
                "test_timeout": 3600,
                "retry_attempts": 1,
                "retry_delay": 60,
                "break_on_failure": false,
                "mock_mode": false
            }
        },
        "AudioTranscriptionLoadTest": {
            "module": "tests.server_tests.test_cases.audio_transcription_load_test",
            "markers": [
                "load",
                "e2e",
                "slow"
            ],
            "test_config": {
                "test_timeout": 3600,
                "retry_attempts": 1,
                "retry_delay": 60,
                "break_on_failure": false,
                "mock_mode": false
            }
        },
        "AudioTranscriptionParamTest": {
            "module": "tests.server_tests.test_cases.audio_transcription_param_test",
            "markers": [
                "param",
                "e2e",
                "slow"
            ],
            "test_config": {
                "test_timeout": 3600,
                "retry_attempts": 1,
                "retry_delay": 60,
                "break_on_failure": false,
                "mock_mode": false
            }
        },
        "DeviceStabilityTest": {
            "module": "tests.server_tests.test_cases.device_stability_test",
            "markers": [
                "stability",
                "e2e",
                "slow",
                "heavy"
            ],
            "test_config": {
                "test_timeout": 3600,
                "retry_attempts": 1,
                "retry_delay": 60,
                "break_on_failure": false,
                "mock_mode": false
            }
        }
    },
    "test_suites": [
        {
            "id": "sdxl-n150",
            "weights": [
                "stable-diffusion-xl-base-1.0"
            ],
            "device": "n150",
            "model_marker": "sdxl",
            "test_cases": [
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 20 iterations",
                    "targets": {
                        "num_inference_steps": 20,
                        "image_generation_time": 10
                    }
                },
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 30 iterations",
                    "targets": {
                        "num_inference_steps": 30,
                        "image_generation_time": 14
                    }
                },
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 50 iterations",
                    "targets": {
                        "num_inference_steps": 50,
                        "image_generation_time": 23
                    }
                },
                {
                    "template": "ImageGenerationParamTest",
                    "enabled": true,
                    "description": "Test image gen params"
                }
            ]
        },
        {
            "id": "sdxl-t3k",
            "weights": [
                "stable-diffusion-xl-base-1.0"
            ],
            "device": "t3k",
            "model_marker": "sdxl",
            "test_cases": [
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 20 iterations",
                    "targets": {
                        "num_inference_steps": 20,
                        "image_generation_time": 10
                    }
                },
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 30 iterations",
                    "targets": {
                        "num_inference_steps": 30,
                        "image_generation_time": 14
                    }
                },
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 50 iterations",
                    "targets": {
                        "num_inference_steps": 50,
                        "image_generation_time": 23
                    }
                },
                {
                    "template": "ImageGenerationParamTest",
                    "enabled": true,
                    "description": "Test image gen params"
                }
            ]
        },
        {
            "id": "sdxl-galaxy",
            "weights": [
                "stable-diffusion-xl-base-1.0"
            ],
            "device": "galaxy",
            "model_marker": "sdxl",
            "test_cases": [
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 20 iterations",
                    "targets": {
                        "num_inference_steps": 20,
                        "image_generation_time": 11
                    }
                },
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 30 iterations",
                    "targets": {
                        "num_inference_steps": 30,
                        "image_generation_time": 15
                    }
                },
                {
                    "template": "ImageGenerationLoadTest",
                    "enabled": true,
                    "description": "Test image generation time for 50 iterations",
                    "targets": {
                        "num_inference_steps": 50,
                        "image_generation_time": 25
                    }
                },
                {
                    "template": "ImageGenerationParamTest",
                    "enabled": true,
                    "description": "Test image gen params for 50 iterations"
                }
            ]
        },
        {
            "id": "distil-whisper-n150",
            "weights": [
                "distil-large-v3"
            ],
            "device": "n150",
            "model_marker": "distil_whisper",
            "test_cases": [
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 30s load",
                    "targets": {
                        "audio_transcription_time": 0.7
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 60s load",
                    "targets": {
                        "audio_transcription_time": 4,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionParamTest",
                    "enabled": true,
                    "description": "Test audio transcription params"
                },
                {
                    "template": "DeviceStabilityTest",
                    "enabled": true,
                    "description": "Device stability test"
                }
            ]
        },
        {
            "id": "distil-whisper-t3k",
            "weights": [
                "distil-large-v3"
            ],
            "device": "t3k",
            "model_marker": "distil_whisper",
            "test_cases": [
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 30s load",
                    "targets": {
                        "audio_transcription_time": 4
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 60s load",
                    "targets": {
                        "audio_transcription_time": 5,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test single audio 60s transcription and expect chunking",
                    "targets": {
                        "audio_transcription_time": 2,
                        "num_of_devices": 1,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionParamTest",
                    "enabled": true,
                    "description": "Test audio transcription params"
                }
            ]
        },
        {
            "id": "distil-whisper-galaxy",
            "weights": [
                "distil-large-v3"
            ],
            "device": "galaxy",
            "model_marker": "distil_whisper",
            "test_cases": [
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 30s load",
                    "targets": {
                        "audio_transcription_time": 2
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 60s load",
                    "targets": {
                        "audio_transcription_time": 2,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test single audio 60s transcription and expect chunking",
                    "targets": {
                        "audio_transcription_time": 2,
                        "num_of_devices": 1,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionParamTest",
                    "enabled": true,
                    "description": "Test audio transcription params"
                }
            ]
        },
        {
            "id": "whisper-n150",
            "weights": [
                "whisper-large-v3"
            ],
            "device": "n150",
            "model_marker": "whisper",
            "test_cases": [
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 30s load",
                    "targets": {
                        "audio_transcription_time": 3
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 60s load",
                    "targets": {
                        "audio_transcription_time": 5,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test single audio 60s transcription and expect chunking",
                    "targets": {
                        "audio_transcription_time": 3,
                        "num_of_devices": 1,
                        "dataset": "60s"
                    }
                }
            ]
        },
        {
            "id": "whisper-t3k",
            "weights": [
                "whisper-large-v3"
            ],
            "device": "t3k",
            "model_marker": "whisper",
            "test_cases": [
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 30s load",
                    "targets": {
                        "audio_transcription_time": 4
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 60s load",
                    "targets": {
                        "audio_transcription_time": 6,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test single audio 60s transcription and expect chunking",
                    "targets": {
                        "audio_transcription_time": 3,
                        "num_of_devices": 1,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionParamTest",
                    "enabled": true,
                    "description": "Test audio transcription params"
                }
            ]
        },
        {
            "id": "whisper-galaxy",
            "weights": [
                "whisper-large-v3"
            ],
            "device": "galaxy",
            "model_marker": "whisper",
            "test_cases": [
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 30s load",
                    "targets": {
                        "audio_transcription_time": 3
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test audio 60s load",
                    "targets": {
                        "audio_transcription_time": 6,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionLoadTest",
                    "enabled": true,
                    "description": "Test single audio 60s transcription and expect chunking",
                    "targets": {
                        "audio_transcription_time": 3,
                        "num_of_devices": 1,
                        "dataset": "60s"
                    }
                },
                {
                    "template": "AudioTranscriptionParamTest",
                    "enabled": true,
                    "description": "Test audio transcription params"
                }
            ]
        }
    ]
}
